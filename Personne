public abstract class Personne {
    protected String nom;
    protected int x; 
    protected int y; 
    protected int direction; // 1:Gauche, 2:Droite, 3:Bas, 4:Haut
    protected Boolean vie;   // True = Vivant, False = Mort

    // Constructeur 1 : Création (Début du jeu)
    public Personne(String nom, int x, int y) {
        this.nom = nom;
        this.x = x;
        this.y = y;
        this.vie = true;
        this.direction = 3; // Par défaut regarde vers le bas
    }

    // Constructeur 2 : COPIE (Pour le changement de classe)
    public Personne(Personne p) {
        this.nom = p.nom;
        this.x = p.x;
        this.y = p.y;
        this.vie = p.vie;
        this.direction = p.direction;
    }

    // NOUVELLE MÉTHODE DE DÉPLACEMENT
    // 1: Gauche | 2: Droite | 3: Bas | 4: Haut
    public void seDeplacer(int choixDirection) {
        this.direction = choixDirection; // On mémorise la direction

        if (choixDirection == 1) {      // GAUCHE
            this.x = this.x - 1;
        } else if (choixDirection == 2) { // DROITE
            this.x = this.x + 1;
        } else if (choixDirection == 3) { // BAS
            this.y = this.y + 1;
        } else if (choixDirection == 4) { // HAUT
            this.y = this.y - 1;
        }
        
        System.out.println(this.nom + " se déplace vers " + getNomDirection(choixDirection) + " -> Case [" + x + "," + y + "]");
    }

    // Petit utilitaire pour afficher "Gauche" au lieu de "1"
    private String getNomDirection(int d) {
        if(d==1) return "Gauche";
        if(d==2) return "Droite";
        if(d==3) return "Bas";
        if(d==4) return "Haut";
        return "Inconnu";
    }

    public String getInfos() {
        return nom + " (" + getClass().getSimpleName() + ") | Pos:[" + x + "," + y + "] | Vie: " + (vie ? "Oui" : "Non");
    }

    public abstract void attaquer(); 
}
